---
title: Как да филтрираме и покажем само част от обектите в слоя?
tags: qgis, филтриране
---

Често в един векторен слой се съхраняват повече обекти, отколкото са необходими за визуализация или обработка в нашия проект.

Например често имаме слой с всички селища (градове и села) за дадена територия, но ние искаме да филтираме само градовете.

## Стъпки

1. Натискаме менюто `Filter...` от контекстното меню на слоя.
2. В новоотворения диалогов прозорец `Query Builder` въвеждаме условието за филтриране.
3. Натискаме `ОК`, което затваря диалоговия прозорец.
4. Сега в реда на слоя в легендата се вижда нова икона с фуния, която подсказва, че слоят е филтриран. При двойно натискане върху нея се отваря същия диалогов прозорец. Изчертаните обекти вече включват само филтрираните.
5. Готово!

## Описание на диалоговия прозорец `Query Builder`

![](./img/query_builder_dialog.svg)

1. Името на слоя, който ще бъде филтриран.
2. Полетата на слоя (1). Двойното натискане върху някое име на поле го добавя в края на условието за филтриране.
3. Примерни стойности от текущо избраното поле (2). При натискането на бутона `Sample` ще се върнат част от стойностите в слоя (1) за това поле. При натискане на бутона `All` ще се върнат всички уникални стойности в слоя (1) за това поле. Двойното натискане върху някоя от стойностите я добавя в края на условието за филтриране.
4. Бутони с оператори. При еднократно натискането на някой от бутоните се добавя текста на оператора в края на условието за филтриране.
5. Поле с текста (заявката) на условието за филтриране.
6. Тества въведеното условие за филтриране, като показва нов диалогов прозорец с броят на филтрираните елементи.
7. Изчиства въведеното условие за филтриране.
8. Записва и прилага въведеното условие за филтриране и затваря диалоговия прозорец.

## Пример

Пример с [базата данни на QGIS.бг](./otkude_da_namerim_geografski_danni_za_bulgaria.md). Филтриране само на градовете с условието ` "place" = 'city' OR "place" = 'town' ` от слой `n_settlements`.

<video controls width="100%">
    <source src="https://qgis.bg/media/filter_layer.webm" type="video/webm">
    Sorry, your browser doesn't support embedded videos.
</video>

